{% extends 'vid_corner_app/base.html' %}
{% load staticfiles %}



{% block video_detail %}
<div class='entirePage'>

<div class='videoAndComments'>
<video width="700px" controls>
    <source src="{{video.video.url}}">
</video>
<section class='titleAndRatings'>
<section class='titleAndViews'>
<h2 class='videoTitle'>{{ video.title }}</h2>
<h6 class='views'>{{video.views}} views</h6>
</section>
<section class='likesAndDislikes'>
<form class="likeForm" method="POST" enctype="multipart/form-data" novalidate>
{% csrf_token %}
<input class='user' type='hidden' name='user' value={{request.user.id}}>
<input type='hidden' class='videoId' name='videoId' value={{video.id}}>
<button type='submit' class='videoLike'><i class="far fa-thumbs-up"></i></button>
<h4 class='likeCounter' data-id='{{numberOfLikes}}'>{{numberOfLikes}}</h4>
</form>
<form class="dislikeForm" method="POST" enctype="multipart/form-data" novalidate>
    {% csrf_token %}
    <input class='user' type='hidden' name='user' value={{request.user.id}}>
    <input type='hidden' class='videoId' name='videoId' value={{video.id}}>
    <button type='submit' class='videoDislike'><i class="far fa-thumbs-down"></i></button>
    <h4 class='dislikeCounter' data-id='{{numberOfDislikes}}'>{{numberOfDislikes}}</h4>
</form>
</section>
</section>

<h4>{{ video.description }}</h4>


<section class=commentSection>
    {% if user.is_authenticated %}
    <form id='commentForm' method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        <input type='text' name='content' placeholder='Add a public comment...'>
        <button type="submit">SUBMIT</button>
    </form>
    {% endif %}
    <div class='theComments'>
        {% for comment in video.comments.all %}
        <ul class='commentList'>
            <li class='commentAndUser'>
                <div class='comment'>
                    <p class='theUser' data-id='{{comment.user}}'>{{comment.user}}</p>
                    <p class='theComment'>{{comment.content}}</p>
                </div>
            </li>

        </ul>
        {% endfor %}
    </div>
</section>
</div>
<aside>
    <h1>HELLOOO</h1>
    {% for video in videos %}
    <a href="{% url 'video_detail' pk=video.pk %}"><video width="200px">
            <source src="{{video.video.url}}"></a>
        </video>
        
    {% endfor %}
</aside>
</div>
{% endblock %}